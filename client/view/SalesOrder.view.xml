<mvc:View
	controllerName="tms.basic.controller.SalesOrder"
	xmlns:mvc="sap.ui.core.mvc"
  xmlns:core="sap.ui.core"
  xmlns="sap.uxap"
  xmlns:l="sap.ui.layout"
	xmlns:f="sap.ui.layout.form"
	displayBlock="true"
	xmlns:m="sap.m">
  <ObjectPageLayout id="salesOrder" useIconTabBar="true" showHeaderContent="true" showTitleInHeaderContent="true">
    <headerTitle>
      <ObjectPageHeader objectTitle="{_id}" isObjectTitleAlwaysVisible="false" >
        <actions>
					<ObjectPageHeaderActionButton icon="sap-icon://account" enabled="false"/>
        </actions>
        <breadcrumbs>
          <m:Breadcrumbs currentLocationText="{i18n>salesOrder}">
						<m:Link text="{i18n>home}" href="#"/>
						<m:Link text="{i18n>salesOrders}" href="#/sales-orders"/>
					</m:Breadcrumbs>
        </breadcrumbs>
      </ObjectPageHeader>
    </headerTitle>
    <headerContent>
      <m:ObjectStatus title="{i18n>total}" text="{total}"/>
    </headerContent>
    <sections>
      <ObjectPageSection title="{i18n>common}">
        <subSections>
          <ObjectPageSubSection title="{i18n>common}">
            <blocks>
              <f:SimpleForm editable="true" layout="ResponsiveGridLayout ">
                <f:content>
                  <m:Label text="{i18n>name}"/>
                  <m:Input value="{name}" id="n"/>
                </f:content>
              </f:SimpleForm>
            </blocks>
          </ObjectPageSubSection>
          <ObjectPageSubSection title="{i18n>rows}">
            <blocks>
              <m:Table
                id="salesOrderRows"
                growing="true"
                growingThreshold="100"
                items="{
                  path: 'Rows',
                  parameters: {
                    $count: true
                  }
                }"
                delete="onDeletePress"
                mode="Delete"
                >
                <m:headerToolbar>
                  <m:Toolbar>
                    <m:Title text="{i18n>rows}"/>
                    <m:ToolbarSpacer />
                    <m:Button icon="sap-icon://add" press="onAddActionPress"/>
                  </m:Toolbar>
                </m:headerToolbar>
                <m:columns>
                  <m:Column width="50%">
                    <m:Text text="{i18n>name}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>qty}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>price}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>total}"/>
                  </m:Column>
                </m:columns>
                <m:items>
                  <m:ColumnListItem
                    type="Active"
                    press="onItemPress">
                    <m:cells>
                      <m:ObjectIdentifier title="{name}" text="{_id}"/>
                      <m:ObjectNumber number="{quantity}" unit="шт."/>
                      <m:ObjectNumber number="{price}" unit="р."/>
                      <m:ObjectNumber number="{total}" unit="р."/>
                    </m:cells>
                  </m:ColumnListItem>
                </m:items>
              </m:Table>
            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>
    </sections>
  </ObjectPageLayout>
</mvc:View>
