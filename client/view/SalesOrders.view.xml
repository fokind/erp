<mvc:View
	controllerName="tms.basic.controller.SalesOrders"
	xmlns:mvc="sap.ui.core.mvc"
  xmlns:s="sap.m.semantic"
  xmlns="sap.uxap"
	displayBlock="true"
	xmlns:m="sap.m">
  <ObjectPageLayout useIconTabBar="true" showHeaderContent="true" showTitleInHeaderContent="true">
    <headerTitle>
      <ObjectPageHeader isObjectTitleAlwaysVisible="false" >
        <actions>
					<ObjectPageHeaderActionButton icon="sap-icon://account" enabled="false"/>
        </actions>
        <breadcrumbs>
          <m:Breadcrumbs currentLocationText="{i18n>salesOrders}">
						<m:Link text="{i18n>home}" href="#"/>
					</m:Breadcrumbs>
        </breadcrumbs>
      </ObjectPageHeader>
    </headerTitle>
    <sections>
      <ObjectPageSection>
        <subSections>
          <ObjectPageSubSection>
            <blocks>
              <m:Table
                id="salesOrders"
                growing="true"
                growingThreshold="10"
                items="{
                  path: '/SalesOrders',
                  parameters: {
                    $count: true
                  }
                }"
                delete="onDeletePress"
                mode="Delete"
                >
                <m:headerToolbar>
                  <m:Toolbar>
                    <m:Title text="{i18n>salesOrders}"/>
                    <m:ToolbarSpacer />
                    <m:Button icon="sap-icon://add" press="onAddActionPress"/>
                  </m:Toolbar>
                </m:headerToolbar>
                <m:columns>
                  <m:Column>
                    <m:Text text="{i18n>number}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>date}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>customer}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>salesPerson}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>status}"/>
                  </m:Column>
                  <m:Column>
                    <m:Text text="{i18n>total}"/>
                  </m:Column>
                </m:columns>
                <m:items>
                  <m:ColumnListItem
                    type="Active"
                    press="onItemPress">
                    <m:cells>
                      <m:Text text="{number}"/>
                      <m:Text text="{
                        path: 'dateTime',
                        type: 'sap.ui.model.type.DateTime',
                        formatOptions: {
                          style: 'short',
                          strictParsing: true,
                          source: {
                            UTC: true,
                            pattern: 'yyyy-MM-dd\'T\'HH:mm:ss.SSSZ'
                          }
                        }
                      }"/>
                      <m:Text text="{customerName}"/>
                      <m:Text text="{salesPersonName}"/>
                      <m:Text text="{statusName}"/>
                      <m:ObjectNumber number="{total}" unit="Ñ€."/>
                    </m:cells>
                  </m:ColumnListItem>
                </m:items>
              </m:Table>
            </blocks>
          </ObjectPageSubSection>
        </subSections>
      </ObjectPageSection>
    </sections>
  </ObjectPageLayout>
</mvc:View>